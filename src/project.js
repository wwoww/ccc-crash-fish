window.__require=function e(t,o,r){function n(a,c){if(!o[a]){if(!t[a]){var s=a.split("/");if(s=s[s.length-1],!t[s]){var u="function"==typeof __require&&__require;if(!c&&u)return u(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}}var l=o[a]={exports:{}};t[a][0].call(l.exports,function(e){return n(t[a][1][e]||e)},l,l.exports,e,t,o,r)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<r.length;a++)n(r[a]);return n}({Bullet:[function(e,t,o){"use strict";cc._RF.push(t,"fd73efK1y9CKLv+2JerjTNT","Bullet"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,i=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.angle=0,t.attack=4,t.speed=10,t.bulletLeve=1,t}return __extends(t,e),t.prototype.shot=function(e,t){this.game=e,this.enabled=!0;var o=e.weaponNode.parent.convertToWorldSpaceAR(e.weaponNode.getPosition());this.angle=e.weaponNode.rotation,this.node.rotation=this.angle;var r=cc.v2(o.x+50*Math.sin(this.angle/180*3.14),o.y+50*Math.cos(this.angle/180*3.14));this.setBullet(t),this.node.position=r,this.node.parent=cc.director.getScene()},t.prototype.setBullet=function(e){this.bulletLeve=e,this.node.getComponent(cc.Sprite).spriteFrame=this.game.spAtlas.getSpriteFrame("bullet"+this.bulletLeve)},t.prototype.update=function(e){var t=this.node.x,o=this.node.y;t+=e*this.speed*Math.sin(this.angle/180*3.14),o+=e*this.speed*Math.cos(this.angle/180*3.14),this.node.x=t,this.node.y=o,(this.node.x>cc.winSize.width+100||this.node.x<-100||this.node.y>cc.winSize.height+100||this.node.y<0)&&this.game.despawnBullet(this.node)},t.prototype.onCollisionEnter=function(e,t){var o=t.world.points,r=o[0].add(o[3]).mul(.5);this.game.castNet(r),this.game.despawnBullet(this.node)},t.prototype.getAttackValue=function(){return this.attack*this.bulletLeve},__decorate([i],t.prototype,"speed",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],CoinController:[function(e,t,o){"use strict";cc._RF.push(t,"737abq6GhRCQ4hbk+Sfvku8","CoinController");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Coins"),a=e("./NumUp"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.coinPlusPrefab=null,t.coinsPrefab=null,t.number1=null,t.number2=null,t.number3=null,t.number4=null,t.number5=null,t.number6=null,t.timerAtlas=null,t.currentValue=0,t.toValue=0,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(){this.coinUpPool=new cc.NodePool,this.coinsPool=new cc.NodePool,this.setValue(this.currentValue)},t.prototype.prefixInteger=function(e,t){return(Array(t).join("0")+e).slice(-t)},t.prototype.setValue=function(e){var t=this.prefixInteger(e,6).split("");this.number1.spriteFrame=this.timerAtlas.getSpriteFrame(t[0].toString()),this.number2.spriteFrame=this.timerAtlas.getSpriteFrame(t[1].toString()),this.number3.spriteFrame=this.timerAtlas.getSpriteFrame(t[2].toString()),this.number4.spriteFrame=this.timerAtlas.getSpriteFrame(t[3].toString()),this.number5.spriteFrame=this.timerAtlas.getSpriteFrame(t[4].toString()),this.number6.spriteFrame=this.timerAtlas.getSpriteFrame(t[5].toString())},t.prototype.addCoins=function(e){this.currentValue+=e,this.setValue(this.currentValue)},t.prototype.reduceCoin=function(e){return this.currentValue>=e&&(this.setValue(this.currentValue-=e),!0)},t.prototype.gainCoins=function(e,t){this.coinUpPool.size()>0?this.coin_up=this.coinUpPool.get():this.coin_up=cc.instantiate(this.coinPlusPrefab),this.coin_up.getComponent(a.default).init(e,t,this),this.coinsPool.size()>0?this.oneCoin=this.coinsPool.get():this.oneCoin=cc.instantiate(this.coinsPrefab),this.oneCoin.getComponent(i.default).init(this);var o=this.node.convertToWorldSpaceAR(this.number3.node.position);this.oneCoin.getComponent(i.default).goDown(e,o),this.addCoins(t)},t.prototype.despawnCoins=function(e){this.coinsPool.put(e)},t.prototype.despawnCoinup=function(e){this.coinUpPool.put(e)},n([u(cc.Prefab)],t.prototype,"coinPlusPrefab",void 0),n([u(cc.Prefab)],t.prototype,"coinsPrefab",void 0),n([u(cc.Sprite)],t.prototype,"number1",void 0),n([u(cc.Sprite)],t.prototype,"number2",void 0),n([u(cc.Sprite)],t.prototype,"number3",void 0),n([u(cc.Sprite)],t.prototype,"number4",void 0),n([u(cc.Sprite)],t.prototype,"number5",void 0),n([u(cc.Sprite)],t.prototype,"number6",void 0),n([u(cc.SpriteAtlas)],t.prototype,"timerAtlas",void 0),n([u],t.prototype,"currentValue",void 0),n([u],t.prototype,"toValue",void 0),t=n([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Coins":"Coins","./NumUp":"NumUp"}],Coins:[function(e,t,o){"use strict";cc._RF.push(t,"4bfcc8soWpBpY9UvUv74Z4g","Coins");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=cc._decorator,a=i.ccclass,c=i.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t}return r(t,e),t.prototype.init=function(e){this.cointroller=e,this.anim.play("gold_down")},t.prototype.goDown=function(e,t){this.node.parent=cc.director.getScene(),this.node.position=e;var o=cc.spawn(cc.moveTo(.8,t),cc.scaleTo(.8,.5)),r=cc.callFunc(this.despawnCoin,this),n=cc.sequence(o,r);this.node.runAction(n)},t.prototype.despawnCoin=function(){this.cointroller.despawnCoins(this.node)},n([c(cc.Animation)],t.prototype,"anim",void 0),t=n([a],t)}(cc.Component);o.default=s,cc._RF.pop()},{}],FishType:[function(e,t,o){"use strict";var r;cc._RF.push(t,"9568eHKWrdBHpsNsOmYO/6R","FishType"),Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.alive=0]="alive",e[e.dead=1]="dead"}(r||(r={})),o.FishState=r,cc._RF.pop()},{}],Fish:[function(e,t,o){"use strict";cc._RF.push(t,"22cd0aTCm5CvbUGmTmmcs80","Fish");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FishType"),a=e("./Bullet"),c=cc._decorator,s=c.ccclass,u=c.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.hp=10,t.gold=2,t.fishState=i.FishState.alive,t.bezier1=[cc.v2(50,-100),cc.v2(300,-400),cc.v2(1800,-650)],t.bezier2=[cc.v2(100,-200),cc.v2(400,-300),cc.v2(1800,-600)],t.bezier3=[cc.v2(150,-300),cc.v2(600,-400),cc.v2(1800,-500)],t.bezier4=[cc.v2(50,50),cc.v2(400,100),cc.v2(1800,200)],t.bezier5=[cc.v2(80,200),cc.v2(300,500),cc.v2(1800,650)],t.bezier6=[cc.v2(100,100),cc.v2(350,400),cc.v2(1800,500)],t.bezier7=[cc.v2(100,2),cc.v2(350,-2),cc.v2(1800,0)],t.bezierArray=new Array,t}return r(t,e),t.prototype.init=function(e){this.bezierArray.push(this.bezier1),this.bezierArray.push(this.bezier2),this.bezierArray.push(this.bezier3),this.bezierArray.push(this.bezier4),this.bezierArray.push(this.bezier5),this.bezierArray.push(this.bezier6),this.bezierArray.push(this.bezier7),this.game=e,this.enabled=!0,this.spawnFish(e)},t.prototype.spawnFish=function(e){var t=e.fishTypes.length,o=Math.floor(Math.random()*t);this.fishType=e.fishTypes[o];var r=cc.v2(100*-Math.random()-200,2*(Math.random()-.5)*300+350);this.node.position=cc.find("Canvas").convertToNodeSpaceAR(r);var n=Math.floor(Math.random()*this.bezierArray.length),a=this.bezierArray[n],c=a[0],s=Math.atan(c.y/c.x);this.node.rotation=180*-s/3.14,this.node.getComponent(cc.Sprite).spriteFrame=this.game.spAtlas.getSpriteFrame(this.fishType.name+"_run_0"),this.hp=this.fishType.hp,this.gold=this.fishType.gold,this.fishState=i.FishState.alive,this.anim.play(this.fishType.name+"_run"),this.node.parent=cc.find("Canvas"),this.lastPosition=this.node.getPosition(),this.changeCollider(),this.swimming(a)},t.prototype.changeCollider=function(){this.node.getComponent(cc.BoxCollider).size=this.node.getContentSize()},t.prototype.swimming=function(e){cc.winSize;var t=10*Math.random()+10,o=cc.bezierBy(t,e);this.node.runAction(o)},t.prototype.onLoad=function(){},t.prototype.update=function(e){this.updateDegree()},t.prototype.updateDegree=function(){var e=this.node.getPosition();if(!(this.lastPosition.sub(e).mag()<1)){var t=e.sub(this.lastPosition).signAngle(cc.v2(1,0))/Math.PI*180;this.node.rotation=t,this.lastPosition=e,this.beAttack()}},t.prototype.beAttack=function(){if(this.isDie()){this.node.stopAllActions(),this.anim.play(this.fishType.name+"_die").on("finished",this.dieCallback,this);var e=this.node.parent.convertToWorldSpaceAR(this.node.position);this.game.gainCoins(e,this.gold)}else this.despawnFish()},t.prototype.dieCallback=function(){cc.log("fish die"),this.node.stopAllActions(),this.game.despawnFish(this.node)},t.prototype.despawnFish=function(){(this.node.x>900||this.node.x<-1e3||this.node.y>600||this.node.y<-900)&&(this.node.stopAllActions(),this.game.despawnFish(this.node))},t.prototype.isDie=function(){return this.fishState==i.FishState.dead},t.prototype.onCollisionEnter=function(e,t){var o=e.node.getComponent(a.default);this.hp-=o.getAttackValue(),this.hp<=0&&(this.fishState=i.FishState.dead)},n([u(cc.Animation)],t.prototype,"anim",void 0),t=n([s],t)}(cc.Component);o.default=l,cc._RF.pop()},{"./Bullet":"Bullet","./FishType":"FishType"}],FluxayEffect:[function(e,t,o){"use strict";cc._RF.push(t,"6c005HfMu5PprR0cwz55niL","FluxayEffect");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./FluxayFrag"),a=cc._decorator,c=a.ccclass,s=a.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.mode=0,t.fragStr=null,t.startTime=Date.now(),t.time=0,t}return r(t,e),t.prototype.onLoad=function(){0==this.mode?this.fragStr=i.default.fluxay_frag:this.fragStr=i.default.fluxay_frag_super,this.userWater()},t.prototype.start=function(){},t.prototype.userWater=function(){if(this.program=new cc.GLProgram,cc.sys.isNative?this.program.initWithString(i.default.fluxay_vert,this.fragStr):(this.program.initWithVertexShaderByteArray(i.default.fluxay_vert,this.fragStr),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS)),this.program.link(),this.program.updateUniforms(),this.program.use(),cc.sys.isNative){cc.GLProgramState.getOrCreateWithGLProgram(this.program).setUniformFloat("time",this.time)}else{var e=this.program.getUniformLocationForName("time");this.program.setUniformLocationWith1f(e,this.time)}this.setProgram(this.node.getComponent(cc.Sprite)._sgNode,this.program)},t.prototype.setProgram=function(e,t){if(cc.sys.isNative){var o=cc.GLProgramState.getOrCreateWithGLProgram(t);e.setGLProgramState(o)}else e.setShaderProgram(t)},t.prototype.update=function(e){if(this.time=(Date.now()-this.startTime)/1e3,this.program)if(this.program.use(),cc.sys.isNative){cc.GLProgramState.getOrCreateWithGLProgram(this.program).setUniformFloat("time",this.time)}else{var t=this.program.getUniformLocationForName("time");this.program.setUniformLocationWith1f(t,this.time)}},n([s],t.prototype,"mode",void 0),t=n([c],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./FluxayFrag":"FluxayFrag"}],FluxayFrag:[function(e,t,o){"use strict";cc._RF.push(t,"69da6vccGJEoZD8C2xjWh5O","FluxayFrag"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.fluxay_vert="\n    attribute vec4 a_position;\n    attribute vec2 a_texCoord;\n    attribute vec4 a_color;\n    varying vec2 v_texCoord;\n    varying vec4 v_fragmentColor;\n    void main()\n    {\n        gl_Position = CC_PMatrix * a_position;\n        v_fragmentColor = a_color;\n        v_texCoord = a_texCoord;\n    }\n    ",e.fluxay_frag="\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    varying vec2 v_texCoord;\n    uniform float time;\n    void main()\n    {\n        vec4 src_color = texture2D(CC_Texture0, v_texCoord).rgba;\n\n        float width = 0.02;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n        float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n        float strength = 0.006;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n        float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n        if( v_texCoord.x < (start - offset * v_texCoord.y) &&  v_texCoord.x > (start - offset * v_texCoord.y - width))\n        {\n            vec3 improve = strength * vec3(255, 255, 255);\n            vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n            gl_FragColor = vec4(result, src_color.a);\n\n        }else{\n            gl_FragColor = src_color;\n        }\n    }\n    ",e.fluxay_frag_s="\n    #ifdef GL_ES                                 \n    precision mediump float;                          \n    #endif                                          \n    \n    varying vec4 v_fragmentColor;                  \n    varying vec2 v_texCoord;                      \n    \n    // uniform float factor;  \n    // uniform float width;  \n    uniform float time;  \n    // uniform vec3 color; \n    void main()                                      \n    {   \n        float factor = .06;\n        float width = .02;\n        // float offset = .5;\n        vec3 color = vec3(10.,10.,10.);                                           \n        vec4 texColor = texture2D(CC_Texture0, v_texCoord);  \n    \n        float distance = abs(v_texCoord[0]+v_texCoord[1]-tan(time))/1.414;   \n\n        distance = 1.0-(1.0/width)*distance;  \n        distance = max(distance, 0.0);  \n        vec4 sample = vec4(0.0,0.0,0.0,0.0);  \n        sample[0] = color[0] * distance;  \n        sample[1] = color[1] * distance;  \n        sample[2] = color[2] * distance;  \n        sample[3] = distance;  \n\n        float alpha = sample[3]*texColor[3];  \n        texColor[0] = texColor[0] + sample[0]*alpha*factor;  \n        texColor[1] = texColor[1] + sample[1]*alpha*factor;  \n        texColor[2] = texColor[2] + sample[2]*alpha*factor;  \n        gl_FragColor = v_fragmentColor * texColor;  \n    }\n     ",e.fluxay_frag_super="\n    #define TAU 6.120470874064187\n    #define MAX_ITER 5\n    uniform float time; \n    varying vec2 v_texCoord;\n    varying vec4 v_fragmentColor;\n    void mainImage( out vec4 fragColor, in vec2 fragCoord ) \n    {\n        float time = time * .5+5.;\n        // uv should be the 0-1 uv of texture...\n        vec2 uv = v_texCoord.xy;//fragCoord.xy / iResolution.xy;\n        \n\n        vec2 p = mod(uv*TAU, TAU)-250.0;\n\n        vec2 i = vec2(p);\n        float c = 1.0;\n        float inten = .0045;\n\n        for (int n = 0; n < MAX_ITER; n++) \n        {\n            float t =  time * (1.0 - (3.5 / float(n+1)));\n            i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n            c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n        }\n        c /= float(MAX_ITER);\n        c = 1.17-pow(c, 1.4);\n        vec4 tex = texture2D(CC_Texture0,uv);\n        vec3 colour = vec3(pow(abs(c), 20.0));\n        colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n\n        // \u6df7\u5408\u6ce2\u5149\n        float alpha = c*tex[3];  \n        tex[0] = tex[0] + colour[0]*alpha; \n        tex[1] = tex[1] + colour[1]*alpha; \n        tex[2] = tex[2] + colour[2]*alpha; \n        fragColor = v_fragmentColor * tex;\n    }\n    void main()\n    {\n        mainImage(gl_FragColor, gl_FragCoord.xy);\n    }\n    ",e}();o.default=r,cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"4af5edxCA1IgI7GLcT2eZXt","Game");var r=this&&this.__extends||function(){var e=function(t,o){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])})(t,o)};return function(t,o){function r(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),n=this&&this.__decorate||function(e,t,o,r){var n,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,o,r);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(a=(i<3?n(a):i>3?n(t,o,a):n(t,o))||a);return i>3&&a&&Object.defineProperty(t,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=e("./Fish"),a=e("./Bullet"),c=e("./Net"),s=e("./CoinController"),u=e("./Weapon"),l=cc._decorator,p=l.ccclass,h=l.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fishPrefab=null,t.weaponNode=null,t.bulletPrefab=null,t.netPrefab=null,t.coinController=null,t.spAtlas=null,t.gameOverNode=null,t.bgm=null,t}return r(t,e),t.prototype.onLoad=function(){cc.director.getCollisionManager().enabled=!0,this.bulletPool=new cc.NodePool(a.default),this.fishPool=new cc.NodePool(i.default);for(var e=0;e<10;++e){var t=cc.instantiate(this.fishPrefab);this.fishPool.put(t)}this.netsPool=new cc.NodePool,this.coinController.getComponent(s.default).init(),this.weaponNode.getComponent(u.default).init(),cc.find("Canvas/gameBg").zIndex=-1,cc.find("Canvas/bottomBar").zIndex=1,this.gameOverNode.zIndex=2,this.gameOverNode.active=!1;var o=this;cc.debug.setDisplayStats(!0),cc.loader.loadRes("fishconfig",function(e,t){e?cc.error(e.message||e):(o.fishTypes=t.json,o.schedule(o.creatFish,2))}),this.node.on(cc.Node.EventType.TOUCH_START,function(e){var t=o.weaponNode.parent.convertTouchToNodeSpaceAR(e.touch),r=o.weaponNode.getPosition(),n=t.sub(r).signAngle(cc.v2(0,1))/Math.PI*180;o.weaponNode.rotation=n;var i=o.weaponNode.getComponent(u.default).curLevel;o.shot(i)},this),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(e){},this),this.node.on(cc.Node.EventType.TOUCH_END,function(e){},this)},t.prototype.shot=function(e){this.bulletPool.size()>0?this.oneBullet=this.bulletPool.get(this):this.oneBullet=cc.instantiate(this.bulletPrefab),this.coinController.getComponent(s.default).reduceCoin(e)?this.oneBullet.getComponent(a.default).shot(this,e):0==this.coinController.getComponent(s.default).currentValue&&this.gameOver()},t.prototype.creatFish=function(){for(var e=0;e<3;++e){(this.fishPool.size()>0?this.fishPool.get(this):cc.instantiate(this.fishPrefab)).getComponent(i.default).init(this)}},t.prototype.castNet=function(e){this.netsPool.size()>0?this.oneNet=this.netsPool.get(this):this.oneNet=cc.instantiate(this.netPrefab);var t=this.weaponNode.getComponent(u.default).curLevel;this.oneNet.getComponent(c.default).init(e,this,t)},t.prototype.despawnFish=function(e){this.fishPool.put(e)},t.prototype.despawnBullet=function(e){this.bulletPool.put(e)},t.prototype.despawnNet=function(e){this.netsPool.put(e)},t.prototype.gainCoins=function(e,t){this.coinController.getComponent(s.default).gainCoins(e,t)},t.prototype.gameOver=function(){this.gameOverNode.active=!0,this.unscheduleAllCallbacks()},t.prototype.gameRestart=function(){cc.director.loadScene("mainscene")},n([h(cc.Prefab)],t.prototype,"fishPrefab",void 0),n([h(cc.Node)],t.prototype,"weaponNode",void 0),n([h(cc.Prefab)],t.prototype,"bulletPrefab",void 0),n([h(cc.Prefab)],t.prototype,"netPrefab",void 0),n([h(cc.Node)],t.prototype,"coinController",void 0),n([h(cc.SpriteAtlas)],t.prototype,"spAtlas",void 0),n([h(cc.Node)],t.prototype,"gameOverNode",void 0),n([h({type:cc.AudioClip})],t.prototype,"bgm",void 0),t=n([p],t)}(cc.Component);o.default=f,cc._RF.pop()},{"./Bullet":"Bullet","./CoinController":"CoinController","./Fish":"Fish","./Net":"Net","./Weapon":"Weapon"}],Net:[function(e,t,o){"use strict";cc._RF.push(t,"f44ce3XvqRGsalzFMsIzXhv","Net"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,i=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.curLevel=1,t}return __extends(t,e),t.prototype.init=function(e,t,o){this.curLevel=o,this.node.parent=cc.director.getScene(),this.node.position=e,this.game=t,this.anim.play("net_"+this.curLevel)},t.prototype.despawnNet=function(){this.game.despawnNet(this.node)},__decorate([i(cc.Animation)],t.prototype,"anim",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],NumUp:[function(e,t,o){"use strict";cc._RF.push(t,"fc121wk/tZKbpMMPfOS1Mhf","NumUp"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,i=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t.numAtlas=null,t.tensPlace=null,t.onesPlace=null,t}return __extends(t,e),t.prototype.init=function(e,t,o){this.cointroller=o;var r=t.toString().split("");1==r.length?(this.onesPlace.node.active=!1,this.tensPlace.spriteFrame=this.numAtlas.getSpriteFrame("goldnum_"+r[0])):(this.onesPlace.node.active=!0,this.tensPlace.spriteFrame=this.numAtlas.getSpriteFrame("goldnum_"+r[0]),this.onesPlace.spriteFrame=this.numAtlas.getSpriteFrame("goldnum_"+r[1])),this.node.parent=cc.director.getScene(),this.node.position=e,this.anim.play("coin_up").on("stop",this.despawn,this)},t.prototype.despawn=function(){this.cointroller.despawnCoinup(this.node)},__decorate([i(cc.Animation)],t.prototype,"anim",void 0),__decorate([i(cc.SpriteAtlas)],t.prototype,"numAtlas",void 0),__decorate([i(cc.Sprite)],t.prototype,"tensPlace",void 0),__decorate([i(cc.Sprite)],t.prototype,"onesPlace",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}],ShaderComponent:[function(e,t,o){"use strict";cc._RF.push(t,"a32ebH3AhRP8qvzXM3bFHLT","ShaderComponent"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("./ShaderManager"),n=cc._decorator,i=n.ccclass,a=n.property,c=n.requireComponent,s=(n.executeInEditMode,[r.ShaderType.Fluxay,r.ShaderType.FluxaySuper,r.ShaderType.WaterWave]),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._shader=r.ShaderType.Default,t._color=cc.color(),t._start=0,t.startTime=Date.now(),t}return __extends(t,e),Object.defineProperty(t.prototype,"shader",{get:function(){return this._shader},set:function(e){this._shader=e,this._applyShader()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this._material},enumerable:!0,configurable:!0}),t.prototype.start=function(){this.getComponent(cc.Sprite).setState(0),this._applyShader()},t.prototype.update=function(e){this._material&&(this._setShaderColor(),this._setShaderTime(e))},t.prototype._applyShader=function(){var e=this._shader,t=this.getComponent(cc.Sprite),o=r.default.useShader(t,e);this._material=o,this._start=0;var n=this._color;if(n.setR(255),n.setG(255),n.setB(255),n.setA(255),o){switch(e){case r.ShaderType.Blur:case r.ShaderType.GaussBlur:o.setNum(.03);break;case r.ShaderType.WaterWave:o.setResolution(this.node.width,this.node.height)}this._setShaderColor()}},t.prototype._setShaderColor=function(){var e=this.node,t=e.color,o=this._color,r=t.getR(),n=t.getG(),i=t.getB(),a=e.opacity,c=!1;o.getR()!==r&&(o.setR(r),c=!0),o.getG()!==n&&(o.setG(n),c=!0),o.getB()!==i&&(o.setB(i),c=!0),o.getA()!==a&&(o.setA(a),c=!0),c&&this._material.setColor(r/255,n/255,i/255,a/255)},t.prototype._setShaderTime=function(e){s.indexOf(this._shader)>=0&&(this._start=(Date.now()-this.startTime)/1e3,this._material.setTime(this._start))},__decorate([a({type:cc.Enum(r.ShaderType),visible:!1})],t.prototype,"_shader",void 0),__decorate([a({type:cc.Enum(r.ShaderType)})],t.prototype,"shader",null),t=__decorate([i,c(cc.Sprite)],t)}(cc.Component);o.default=u,cc._RF.pop()},{"./ShaderManager":"ShaderManager"}],ShaderLab:[function(e,t,o){"use strict";cc._RF.push(t,"32173wVifdGpqO/J8MFoBvP","ShaderLab"),Object.defineProperty(o,"__esModule",{value:!0});var r="\nuniform mat4 viewProj;\nuniform mat4 model;\nattribute vec3 a_position;\nattribute vec2 a_uv0;\nvarying vec2 uv0;\nvoid main () {\n    mat4 mvp;\n    mvp = viewProj * model;\n    vec4 pos = mvp * vec4(a_position, 1);\n    gl_Position = pos;\n    uv0 = a_uv0;\n}\n",n={GrayScaling:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = dot(c.rgb, vec3(0.299 * 0.5, 0.587 * 0.5, 0.114 * 0.5));\n    gl_FragColor = vec4(gray, gray, gray, c.a * 0.5);\n}\n"},Stone:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float clrbright = (c.r + c.g + c.b) * (1. / 3.);\n    float gray = (0.6) * clrbright;\n    gl_FragColor = vec4(gray, gray, gray, c.a);\n}\n"},Ice:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 clrx = color * texture2D(texture, uv0);\n    float brightness = (clrx.r + clrx.g + clrx.b) * (1. / 3.);\n\tfloat gray = (1.5)*brightness;\n\tclrx = vec4(gray, gray, gray, clrx.a)*vec4(0.8,1.2,1.5,1);\n    gl_FragColor =clrx;\n}\n"},Frozen:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c *= vec4(0.8, 1, 0.8, 1);\n\tc.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Mirror:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.5;\n    c.g *= 0.8;\n    c.b += c.a * 0.2;\n    gl_FragColor = c;\n}\n"},Poison:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    c.r *= 0.8;\n\tc.r += 0.08 * c.a;\n\tc.g *= 0.8;\n    c.g += 0.2 * c.a;\n\tc.b *= 0.8;\n    gl_FragColor = c;\n}\n"},Banish:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gg = (c.r + c.g + c.b) * (1.0 / 3.0);\n    c.r = gg * 0.9;\n    c.g = gg * 1.2;\n    c.b = gg * 0.8;\n    c.a *= (gg + 0.1);\n    gl_FragColor = c;\n}\n"},Vanish:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    float gray = (c.r + c.g + c.b) * (1. / 3.);\n    float rgb = gray * 0.8;\n    gl_FragColor = vec4(rgb, rgb, rgb, c.a * (gray + 0.1));\n}\n"},Invisible:{vert:r,frag:"\nvoid main () {\n    gl_FragColor = vec4(0,0,0,0);\n}\n"},Blur:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\nvoid main () {\n    vec4 sum = vec4(0.0);\n    vec2 size = vec2(num,num);\n    sum += texture2D(texture, uv0 - 0.4 * size) * 0.05;\n\tsum += texture2D(texture, uv0 - 0.3 * size) * 0.09;\n\tsum += texture2D(texture, uv0 - 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 - 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0             ) * 0.16;\n\tsum += texture2D(texture, uv0 + 0.1 * size) * 0.15;\n\tsum += texture2D(texture, uv0 + 0.2 * size) * 0.12;\n\tsum += texture2D(texture, uv0 + 0.3 * size) * 0.09;\n    sum += texture2D(texture, uv0 + 0.4 * size) * 0.05;\n    \n    vec4 vectemp = vec4(0,0,0,0);\n    vec4 substract = vec4(0,0,0,0);\n    vectemp = (sum - substract) * color;\n\n    float alpha = texture2D(texture, uv0).a;\n    if(alpha < 0.05) { gl_FragColor = vec4(0 , 0 , 0 , 0); }\n\telse { gl_FragColor = vectemp; }\n}\n"},GaussBlur:{vert:r,frag:"\n#define repeats 5.\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float num;\nvarying vec2 uv0;\n\nvec4 draw(vec2 uv) {\n    return color * texture2D(texture,uv).rgba; \n}\nfloat grid(float var, float size) {\n    return floor(var*size)/size;\n}\nfloat rand(vec2 co){\n    return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);\n}\nvoid main()\n{\n    vec4 blurred_image = vec4(0.);\n    for (float i = 0.; i < repeats; i++) { \n        vec2 q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i,uv0.x+uv0.y))+num); \n        vec2 uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n        q = vec2(cos(degrees((i/repeats)*360.)),sin(degrees((i/repeats)*360.))) * (rand(vec2(i+2.,uv0.x+uv0.y+24.))+num); \n        uv2 = uv0+(q*num);\n        blurred_image += draw(uv2)/2.;\n    }\n    blurred_image /= repeats;\n    gl_FragColor = vec4(blurred_image);\n}\n"},Dissolve:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 c = color * texture2D(texture,uv0);\n    float height = c.r;\n    if(height < time)\n    {\n        discard;\n    }\n    if(height < time+0.04)\n    {\n        // \u6eb6\u89e3\u989c\u8272\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\n        c = vec4(.9,.6,0.3,c.a);\n    }\n    gl_FragColor = c;\n}\n"},Fluxay:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    vec4 src_color = color * texture2D(texture, uv0).rgba;\n\n    float width = 0.08;       //\u6d41\u5149\u7684\u5bbd\u5ea6\u8303\u56f4 (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u5bbd\u5ea6)\n    float start = tan(time/1.414);  //\u6d41\u5149\u7684\u8d77\u59cbx\u5750\u6807\n    float strength = 0.008;   //\u6d41\u5149\u589e\u4eae\u5f3a\u5ea6   (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u589e\u4eae\u5f3a\u5ea6)\n    float offset = 0.5;      //\u504f\u79fb\u503c         (\u8c03\u6574\u8be5\u503c\u6539\u53d8\u6d41\u5149\u7684\u503e\u659c\u7a0b\u5ea6)\n    if(uv0.x < (start - offset * uv0.y) &&  uv0.x > (start - offset * uv0.y - width))\n    {\n        vec3 improve = strength * vec3(255, 255, 255);\n        vec3 result = improve * vec3( src_color.r, src_color.g, src_color.b);\n        gl_FragColor = vec4(result, src_color.a);\n\n    }else{\n        gl_FragColor = src_color;\n    }\n}\n"},FluxaySuper:{vert:r,frag:"\n#define TAU 6.12\n#define MAX_ITER 5\nuniform sampler2D texture;\nuniform vec4 color;\nuniform float time;\nvarying vec2 uv0;\n\nvoid main()\n{\n    float time = time * .5+5.;\n    // uv should be the 0-1 uv of texture...\n    vec2 uv = uv0.xy;//fragCoord.xy / iResolution.xy;\n    \n    vec2 p = mod(uv*TAU, TAU)-250.0;\n\n    vec2 i = vec2(p);\n    float c = 1.0;\n    float inten = .0045;\n\n    for (int n = 0; n < MAX_ITER; n++) \n    {\n        float t =  time * (1.0 - (3.5 / float(n+1)));\n        i = p + vec2(cos(t - i.x) + sin(t + i.y), sin(t - i.y) + cos(1.5*t + i.x));\n        c += 1.0/length(vec2(p.x / (cos(i.x+t)/inten),p.y / (cos(i.y+t)/inten)));\n    }\n    c /= float(MAX_ITER);\n    c = 1.17-pow(c, 1.4);\n    vec4 tex = texture2D(texture,uv);\n    vec3 colour = vec3(pow(abs(c), 20.0));\n    colour = clamp(colour + vec3(0.0, 0.0, .0), 0.0, tex.a);\n\n    // \u6df7\u5408\u6ce2\u5149\n    float alpha = c*tex[3];  \n    tex[0] = tex[0] + colour[0]*alpha; \n    tex[1] = tex[1] + colour[1]*alpha; \n    tex[2] = tex[2] + colour[2]*alpha; \n    gl_FragColor = color * tex;\n}\n"},Pure:{vert:r,frag:"\nuniform sampler2D texture;\nuniform vec4 color;\nvarying vec2 uv0;\nvoid main () {\n    vec4 c = color * texture2D(texture, uv0);\n    gl_FragColor = vec4(color.rgb, c.a);\n}\n"},WaterWave:{vert:r,frag:"\n#define F cos(x-y)*cos(y),sin(x+y)*sin(y)\n\nuniform sampler2D texture;\nuniform float time;\nuniform vec3 resolution;\nvarying vec2 uv0;\n\nvec2 s(vec2 p)\n{\n    float d=time*0.2,x=8.*(p.x+d),y=8.*(p.y+d);\n    return vec2(F);\n}\nvoid mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // \u6362\u6210resolution\n    vec2 rs = resolution.xy;\n    // \u6362\u6210\u7eb9\u7406\u5750\u6807v_texCoord.xy\n    vec2 uv = uv0.xy;\n    vec2 q = uv+2./resolution.x*(s(uv)-s(uv+rs));\n    //\u53cd\u8f6cy\n    // q.y=1.-q.y;\n    fragColor = texture2D(texture,q);\n}\nvoid main()\n{\n    mainImage(gl_FragColor, gl_FragCoord.xy);\n}\n"}};o.default=n,cc._RF.pop()},{}],ShaderManager:[function(e,t,o){"use strict";cc._RF.push(t,"47eb6hLetdFk5y3Ih12W30Z","ShaderManager"),Object.defineProperty(o,"__esModule",{value:!0});var r,n=e("./ShaderLab"),i=e("./ShaderMaterial");(function(e){e[e.Default=0]="Default",e[e.Gray=1]="Gray",e[e.GrayScaling=100]="GrayScaling",e[e.Stone=101]="Stone",e[e.Ice=102]="Ice",e[e.Frozen=103]="Frozen",e[e.Mirror=104]="Mirror",e[e.Poison=105]="Poison",e[e.Banish=106]="Banish",e[e.Vanish=107]="Vanish",e[e.Invisible=108]="Invisible",e[e.Blur=109]="Blur",e[e.GaussBlur=110]="GaussBlur",e[e.Dissolve=111]="Dissolve",e[e.Fluxay=112]="Fluxay",e[e.FluxaySuper=113]="FluxaySuper",e[e.Pure=114]="Pure",e[e.WaterWave=115]="WaterWave"})(r=o.ShaderType||(o.ShaderType={}));var a=function(){function e(){}return e.useShader=function(e,t){if(cc.game.renderType!==cc.game.RENDER_TYPE_CANVAS){if(e&&e.spriteFrame){if(t>r.Gray){var o=r[t],a=n.default[o];if(!a)return void console.warn("Shader not defined",o);cc.dynamicAtlasManager.enabled=!1;var c=new i.default(o,a.vert,a.frag,a.defines||[]),s=e.spriteFrame.getTexture();c.setTexture(s),c.updateHash();var u=e;return u._material=c,u._renderData._material=c,u._state=t,c}e.setState(t)}}else console.warn("Shader not surpport for canvas")},e}();o.default=a,cc._RF.pop()},{"./ShaderLab":"ShaderLab","./ShaderMaterial":"ShaderMaterial"}],ShaderMaterial:[function(e,t,o){"use strict";cc._RF.push(t,"2012dpf7EhJZKsthCCAfpXE","ShaderMaterial"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc.vmath,n=cc.renderer.renderEngine,i=function(e){function t(t,o,r,n){var i=e.call(this,!1)||this,a=cc.renderer._forward._programLib;return cc.game.once(cc.game.EVENT_ENGINE_INITED,function(){cc.log("\u5f15\u64ce\u521d\u59cb\u5316\u5b8c\u6210\u5b9a\u4e49shader\u6a21\u677f"),a.define(t,o,r,n)}),i._init(t),i}return __extends(t,e),t.prototype._init=function(e){var t=n.renderer,o=n.gfx,i=new t.Pass(e);i.setDepth(!1,!1),i.setCullMode(o.CULL_NONE),i.setBlend(o.BLEND_FUNC_ADD,o.BLEND_SRC_ALPHA,o.BLEND_ONE_MINUS_SRC_ALPHA,o.BLEND_FUNC_ADD,o.BLEND_SRC_ALPHA,o.BLEND_ONE_MINUS_SRC_ALPHA);var a=new t.Technique(["transparent"],[{name:"texture",type:t.PARAM_TEXTURE_2D},{name:"color",type:t.PARAM_COLOR4},{name:"pos",type:t.PARAM_FLOAT3},{name:"size",type:t.PARAM_FLOAT2},{name:"time",type:t.PARAM_FLOAT},{name:"num",type:t.PARAM_FLOAT},{name:"resolution",type:t.PARAM_FLOAT3}],[i]);this._texture=null,this._color={r:1,g:1,b:1,a:1},this._pos={x:0,y:0,z:0},this._size={x:0,y:0},this._time=0,this._num=0,this._resolution=r.vec3.create(),this._effect=this.effect=new t.Effect([a],{color:this._color,pos:this._pos,size:this._size,time:this._time,num:this._num,resolution:this._resolution},[]),this._mainTech=a},t.prototype.setTexture=function(e){this._texture=e,this._texture.update({flipY:!1,mipmap:!1}),this._effect.setProperty("texture",e.getImpl()),this._texIds.texture=e.getId()},t.prototype.setColor=function(e,t,o,r){this._color.r=e,this._color.g=t,this._color.b=o,this._color.a=r,this._effect.setProperty("color",this._color)},t.prototype.setPos=function(e,t,o){this._pos.x=e,this._pos.y=t,this._pos.z=o,this._effect.setProperty("pos",this._pos)},t.prototype.setSize=function(e,t){this._size.x=e,this._size.y=t,this._effect.setProperty("size",this._size)},t.prototype.setTime=function(e){this._time=e,this._effect.setProperty("time",this._time)},t.prototype.setNum=function(e){this._num=e,this._effect.setProperty("num",this._num)},t.prototype.setResolution=function(e,t){this._resolution.x=e,this._resolution.y=t,this._effect.setProperty("resolution",this._resolution)},t}(n.Material);o.default=i,cc._RF.pop()},{}],WaterWaveEffect:[function(e,t,o){"use strict";cc._RF.push(t,"9d1calugBZBrb7hUQVtoaka","WaterWaveEffect"),Object.defineProperty(o,"__esModule",{value:!0});var r=e("./WaterWaveFrag"),n=cc._decorator,i=n.ccclass,a=(n.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.startTime=Date.now(),t.time=0,t.resolution={x:0,y:0},t}return __extends(t,e),t.prototype.onLoad=function(){this.resolution.x=this.node.getContentSize().width,this.resolution.y=this.node.getContentSize().height,this.userWater()},t.prototype.start=function(){},t.prototype.userWater=function(){if(this.program=new cc.GLProgram,cc.sys.isNative?this.program.initWithString(r.default.waterwave_vert,r.default.waterwave_frag):(this.program.initWithVertexShaderByteArray(r.default.waterwave_vert,r.default.waterwave_frag),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_POSITION,cc.macro.VERTEX_ATTRIB_POSITION),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_COLOR,cc.macro.VERTEX_ATTRIB_COLOR),this.program.addAttribute(cc.macro.ATTRIBUTE_NAME_TEX_COORD,cc.macro.VERTEX_ATTRIB_TEX_COORDS)),this.program.link(),this.program.updateUniforms(),this.program.use(),cc.sys.isNative){var e=cc.GLProgramState.getOrCreateWithGLProgram(this.program);e.setUniformFloat("time",this.time),e.setUniformVec2("resolution",this.resolution)}else{var t=this.program.getUniformLocationForName("resolution"),o=this.program.getUniformLocationForName("time");this.program.setUniformLocationWith2f(t,this.resolution.x,this.resolution.y),this.program.setUniformLocationWith1f(o,this.time)}this.setProgram(this.node.getComponent(cc.Sprite)._sgNode,this.program)},t.prototype.setProgram=function(e,t){if(cc.sys.isNative){var o=cc.GLProgramState.getOrCreateWithGLProgram(t);e.setGLProgramState(o)}else e.setShaderProgram(t)},t.prototype.update=function(e){if(this.time=(Date.now()-this.startTime)/1e3,this.program)if(this.program.use(),cc.sys.isNative){cc.GLProgramState.getOrCreateWithGLProgram(this.program).setUniformFloat("time",this.time)}else{var t=this.program.getUniformLocationForName("time");this.program.setUniformLocationWith1f(t,this.time)}},t=__decorate([i],t)}(cc.Component));o.default=a,cc._RF.pop()},{"./WaterWaveFrag":"WaterWaveFrag"}],WaterWaveFrag:[function(e,t,o){"use strict";cc._RF.push(t,"c24beWDeI5Mj5uoB6iCgoMT","WaterWaveFrag"),Object.defineProperty(o,"__esModule",{value:!0});var r=function(){function e(){}return e.waterwave_vert="\n    attribute vec4 a_position;\n    attribute vec2 a_texCoord;\n    attribute vec4 a_color;\n    varying vec2 v_texCoord;\n    varying vec4 v_fragmentColor;\n    void main()\n    {\n        gl_Position = CC_PMatrix * a_position;\n        v_fragmentColor = a_color;\n        v_texCoord = a_texCoord;\n    }\n    ",e.waterwave_frag="\n    #ifdef GL_ES\n    precision mediump float;\n    #endif\n    \n    #define F cos(x-y)*cos(y),sin(x+y)*sin(y)\n\n    uniform float time;\n    uniform vec2 resolution;\n    varying vec2 v_texCoord;\n\n    vec2 s(vec2 p)\n    {\n        float d=time*0.2,x=8.*(p.x+d),y=8.*(p.y+d);\n        return vec2(F);\n    }\n    void mainImage( out vec4 fragColor, in vec2 fragCoord )\n    {\n        // \u6362\u6210resolution\n        vec2 rs = resolution.xy;\n        // \u6362\u6210\u7eb9\u7406\u5750\u6807v_texCoord.xy\n        vec2 uv = v_texCoord.xy;\n        vec2 q = uv+2./resolution.x*(s(uv)-s(uv+rs));\n        //\u53cd\u8f6cy\n        // q.y=1.-q.y;\n        fragColor = texture2D(CC_Texture0,q);\n    }\n    void main()\n    {\n        mainImage(gl_FragColor, gl_FragCoord.xy);\n    }\n    ",e}();o.default=r,cc._RF.pop()},{}],Weapon:[function(e,t,o){"use strict";cc._RF.push(t,"20cc77d8/1GWqTQQJry8tDM","Weapon"),Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,n=r.ccclass,i=r.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.anim=null,t}return __extends(t,e),t.prototype.init=function(){this.curLevel=1,this.total=this.anim.getClips().length},t.prototype.plus=function(){this.curLevel+1>this.total?this.curLevel=this.total:this.curLevel++,this.anim.play("weapon_level_"+this.curLevel)},t.prototype.reduce=function(){this.curLevel<2?this.curLevel=1:this.curLevel--,this.anim.play("weapon_level_"+this.curLevel)},__decorate([i(cc.Animation)],t.prototype,"anim",void 0),t=__decorate([n],t)}(cc.Component);o.default=a,cc._RF.pop()},{}]},{},["Bullet","CoinController","Coins","Fish","FishType","FluxayEffect","FluxayFrag","Game","Net","NumUp","WaterWaveEffect","WaterWaveFrag","Weapon","ShaderComponent","ShaderLab","ShaderManager","ShaderMaterial"]);